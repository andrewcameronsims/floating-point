<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Floating Point Encoding</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Alata&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=PT+Mono&display=swap" rel="stylesheet">
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
  <div class="container">
    <h1>How does floating point encoding work?</h1>

    <p>
      The IEEE floating point standard bit-encodes real numbers in the form
      <h2>\[V = -1^S * F * 2^E\]</h2>
      It does so by dividing up the allocated memory space into a <span class="sign-color">sign bit</span>, <span class="exponent-color">exponent bits</span>, and <span class="fraction-color">fractional bits</span>.
    </p>
    <p class="sign-color">The number is considered negative if the sign bit is on.</p>
    <p class="exponent-color">
      The value of the exponent bits is determined by the unsigned value of those bits minus a bias value
      which is determined by the length of the exponent bits <em>k</em> so that \[Bias = 2^{k-1} - 1\] In the example below, the bias value is 7. If none of
      these bits are on then the number is <em>denormalised</em> and this bias is subtracted from 1.
    </p>
    <p class="fraction-color">
      The fraction bits are interpreted as a <em>binary fraction</em>, where the first bit after the point represents
      0.5, the second represents 0.25, etc. If any of the exponent bits are on then the number is <em>normalised</em>
      and a value of 1 is added to the fraction.
    </p>
    <p>
      Below is a binary representation of a floating point number for a fictional 8-bit computer. Try flipping different bits to see how they affect the value of the encoded number.
    </p>

    <div class="bit-representation-container">
      <div id="bit-representation">
        <span id="sign">
          <span class="bit">0</span>
        </span>

        <span id="exponent">
          <span class="bit">0</span>
          <span class="bit">0</span>
          <span class="bit">0</span>
          <span class="bit">0</span>
        </span>

        <span id="fraction">
          <span class="bit">0</span>
          <span class="bit">0</span>
          <span class="bit">0</span>
        </span>
      </div>

      <h2>Encoding form: <span id="form"></span></h2>
      <h2><span id="equation">-1<sup><span class="sign-color" id="sign-value"></span></sup> * <span class="fraction-color" id="fraction-value"></span> * 2<sup><span id="exponent-value" class="exponent-color"></span></sup> = </span><span id="real-value"></span></h2>
    </div>
  </div>
  <script src="index.js"></script>
</body>
</html>
